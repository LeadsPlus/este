<!doctype html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
  <title>este.router.Router</title>
  <style>
    [este-href] {
      text-decoration: underline;
      cursor: pointer;
    }
    .section {
      display: none;
    }
    .active {
      display: block;
    }
  </style>
  <script src='/assets/js/dev/livereload.js'></script>
  <script src='/assets/js/google-closure/closure/goog/base.js'></script>
  <script src='/assets/js/deps.js'></script>
  <script>
    goog.require('este.dev.Monitor.create')
    goog.require('goog.Uri')
    goog.require('este.router.create')
  </script>
</head>
<body>
  <h1>este.router.Router</h1>
  <p id='links'>
    <a este-href='kittens' title='Kittens'>Kittens</a> |
    <a este-href='puppies' title='Puppies'>Puppies</a> |
    <a este-href='pandas' title='Pandas'>Pandas</a> |
    <a este-href='bucket' title='Bucket'>Bucket</a>
  </p>
  <div id='kittens' class='section active'>
    <img src='http://farm4.static.flickr.com/3045/2481490798_bba0c585b4.jpg'>
  </div>
  <div id='puppies' class='section'>
    <img src='http://farm4.static.flickr.com/3178/2976942142_7f5be73d21.jpg'>
  </div>
  <div id='pandas' class='section'>
    <img src='http://farm1.static.flickr.com/106/303160549_49917ba1b7.jpg'>
  </div>
  <div id='bucket' class='section'>
    <img src='http://farm1.static.flickr.com/146/421093356_6bbefa304e.jpg'>
  </div>
  <script>
    este.dev.Monitor.create()

    var pathPrefix = new goog.Uri(document.location.href).getPath() + '/'
    var router = este.router.create(document.body, pathPrefix)
    var cur = 'kittens'
    var show = function(id) {
      console.log('show: ' + id)
      var next = document.getElementById(id || 'kittens')
      document.getElementById(cur).className = 'section'
      next.className = 'section active'
      cur = id
    }
    router.add('', function() {
      show('kittens')
    })
    router.add('kittens', function() {
      show('kittens')
    })
    router.add('puppies', function() {
      show('puppies')
    })
    router.add('pandas', function() {
      show('pandas')
    })
    router.add('bucket', function() {
      show('bucket')
    })
    router.start()
  </script>
</body>